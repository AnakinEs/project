<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Справочник</title>
  <link rel="stylesheet" href="../css/project-test.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200&display=swap" rel="stylesheet">
  <link href="../css/prism.css" rel="stylesheet">
  <script src="../js/prism.js"></script>
  <script src="../js/project.js"></script>
</head>

<body>
  <div class="main-wrapper">
    <main id="content" class="main_content" role="main">
      <article class="main-page-content" lang="ru"> <!-- lang="ru не совсем понял для чего-->
          <section aria-labelledby="Отладка в браузере">
            <h1 id="Отладка в браузере"><span id="hint20" ; class="hint"
                data-tooltip="Короче тут не все понятно. Надо изучать отдельно.">Отладка в браузере</span></h1>
            <div class="section-content">
              <p>Давайте отвлечёмся от написания кода и поговорим о его отладке.</p>
              <p><a
                  href="https://ru.wikipedia.org/wiki/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">Отладка</a>
                – это процесс поиска и исправления ошибок в скрипте. Все современные браузеры и большинство других
                сред
                разработки поддерживают инструменты для отладки – специальный графический интерфейс, который сильно
                упрощает отладку. Он также позволяет по шагам отследить, что именно происходит в нашем коде.</p>
              <p>Мы будем использовать браузер Chrome, так как у него достаточно возможностей, в большинстве других
                браузеров процесс будет схожим.</p>
            </div>
          </section>

          <section aria-labelledby="Панель «Исходный код» («Sources»)">
            <h2 id="Панель «Исходный код» («Sources»)">Панель «Исходный код» («Sources»)</h2>
            <div class="section-content">
              <p>Версия Chrome, установленная у вас, может выглядеть немного иначе, однако принципиальных отличий не
                будет.</p>
              <ul>
                <li>Работая в Chrome, откройте <a href="../getting-started/started159.html">тестовую страницу</a>.</li>
                <li>Включите инструменты разработчика, нажав <kbd>F12</kbd> (Mac: <kbd>Cmd+Opt+I</kbd>).</li>
                <li>Щёлкните по панели <code>Sources</code> («исходный код»).</li>
              </ul>
              <p>При первом запуске получаем следующее:</p>
              <img style="width:100%" src="../svg/chrome-open-sources.svg">
              <p>Кнопка-переключатель <span class="devtools" style="background-position:-172px -98px"></span> откроет
                вкладку со списком файлов.</p>
              <p>Кликните на неё и выберите <code>hello.js</code> в дереве файлов. Вот что появится:</p>
              <img style="width:100%" src="../svg/chrome-tabs.svg">
              <p>Интерфейс состоит из трёх зон:</p>
              <ol>
                <li>В зоне <strong>File Navigator</strong> (панель для навигации файлов) показаны файлы HTML,
                  JavaScript, CSS, включая изображения, используемые на странице. Здесь также могут быть файлы
                  различных
                  расширений Chrome.</li>
                <li>Зона <strong>Code Editor</strong> (редактор кода) показывает исходный код.</li>
                <li>Наконец, зона <strong>JavaScript Debugging</strong> (панель отладки JavaScript) отведена для
                  отладки, скоро мы к ней вернёмся.</li>
              </ol>
              <p>Чтобы скрыть список ресурсов и освободить экранное место для исходного кода, щёлкните по тому же
                переключателю <span class="devtools" style="background-position:-172px -122px"></span>.</p>
            </div>
          </section>

          <section aria-labelledby="Консоль">
            <h2 id="Консоль">Консоль</h2>
            <div class="section-content">
              <p>При нажатии на клавишу <kbd>Esc</kbd> в нижней части экрана вызывается консоль, где можно вводить
                команды и выполнять их клавишей <kbd>Enter</kbd>.</p>
              <p>Результат выполнения инструкций сразу же отображается в консоли.</p>
              <p>Например, результатом <code>1+2</code> будет <code>3</code>, а вызов функции
                <code>hello("debugger")</code> ничего не возвращает, так что результатом будет <code>undefined</code>:
              </p>
              <img style="width:100%" src="../svg/chrome-sources-console.svg">
            </div>
          </section>

          <section aria-labelledby="Точки останова (breakpoints)">
            <h2 id="Точки останова (breakpoints)">Точки останова (breakpoints)</h2>
            <div class="section-content">
              <p>Давайте разберёмся, как работает код нашей <a href="../getting-started/started160.html">тестовой
                  страницы</a>. В файле <code>hello.js</code> щёлкните на номере строки <code>4</code>. Да-да,
                щёлкайте
                именно по самой цифре, не по коду.</p>
              <p>Ура! Вы поставили точку останова. А теперь щёлкните по цифре <code>8</code> на восьмой линии.</p>
              <p>Вот что в итоге должно получиться (синим это те места, по которым вы должны щёлкнуть):</p>
              <img style="width:100%" src="../svg/chrome-sources-breakpoint.svg">
              <p><em>Точка останова</em> – это участок кода, где отладчик автоматически приостановит исполнение
                JavaScript.</p>
              <p>Пока исполнение поставлено «на паузу», мы можем просмотреть текущие значения переменных, выполнить
                команды в консоли, другими словами, выполнить отладку кода.</p>
              <p>В правой части графического интерфейса мы видим список точек останова. А когда таких точек выставлено
                много, да ещё и в разных файлах, этот список поможет эффективно ими управлять:</p>
              <ul>
                <li>Быстро перейдите к точке останова в коде (нажав на неё на правой панели).</li>
                <li>Временно отключите точку останова, сняв с неё галочку.</li>
                <li>Удалите точку останова, щёлкнув правой кнопкой мыши и выбрав Remove (Удалить).</li>
                <li>…и так далее.</li>
              </ul>
              <div class="note notecard" id="transparent-js">
                <div class="important_type">Условные точки останова</div>
                <p><em>Щелчок правой кнопкой мыши</em> по номеру строки позволяет создать условную точку останова. Она
                  сработает только в тот момент, когда выражение, которое вы должны указать при создании такой точки,
                  истинно.</p>
                <p>Это удобно, когда нам нужно остановиться только для при определённом значении переменной или для
                  определённых параметров функции.</p>
              </div>
            </div>
          </section>

          <section aria-labelledby="Команда debugger">
            <h2 id="Команда debugger">Команда debugger</h2>
            <div class="section-content">
              <p>Выполнение кода можно также приостановить с помощью команды <code>debugger</code> прямо изнутри
                самого
                кода:</p>
              <pre><code class="language-js">function hello(name) {
let phrase = `Привет, ${name}!`;

debugger;  // &lt;-- тут отладчик остановится

say(phrase);
}</code></pre>
              <p>Такая команда сработает только если открыты инструменты разработки, иначе браузер ее проигнорирует.
              </p>
            </div>
          </section>

          <section aria-labelledby="Остановимся и оглядимся">
            <h2 id="Остановимся и оглядимся">Остановимся и оглядимся</h2>
            <div class="section-content">
              <p>В нашем примере функция <code>hello()</code> вызывается во время загрузки страницы, поэтому для
                начала
                отладки (после того, как мы поставили точки останова) проще всего её перезагрузить. Нажмите
                <kbd>F5</kbd> (Windows, Linux) или <kbd>Cmd+R</kbd> (Mac).
              </p>
              <p>Выполнение прервётся на четвёртой строчке (где находится точка останова):</p>
              <img style="width:100%" src="../svg/chrome-sources-debugger-pause.svg">
              <p>Чтобы понять, что происходит в коде, щёлкните по стрелочкам справа:</p>
              <ol>
                <li>
                  <p><strong><code>Watch</code> – показывает текущие значения для любых выражений.</strong></p>
                  <p><span id="hint21" ; class="hint" data-tooltip="Ни че не понял">Вы можете нажать на <code>+</code>
                      и ввести
                      выражение. Отладчик покажет его значение, автоматически пересчитывая его в процессе
                      выполнения.</span></p>
                </li>
                <li>
                  <p><strong><code>Call Stack</code> – показывает цепочку вложенных вызовов.</strong></p>
                  <p>В текущий момент отладчик находится внутри вызова <code>hello()</code>, вызываемого скриптом в
                    <code>index.html</code> (там нет функции, поэтому она называется “анонимной”).
                  </p>
                  <p>Если вы нажмёте на элемент стека (например, «anonymous»), отладчик перейдёт к соответствующему
                    коду, и нам представляется возможность его проанализировать.</p>
                </li>
                <li>
                  <p><strong><code>Scope</code> показывает текущие переменные.</strong></p>
                  <p><code>Local</code> показывает локальные переменные функций, а их значения подсвечены прямо в
                    исходном коде.</p>
                  <p>В <code>Global</code> перечисляются глобальные переменные (то есть вне каких-либо функций).</p>
                  <p>Там также есть ключевое слово <code>this</code>, которое мы ещё не изучали, но скоро изучим.</p>
                </li>
              </ol>
            </div>
          </section>

          <section aria-labelledby="Пошаговое выполнение скрипта">
            <h2 id="Пошаговое выполнение скрипта">Пошаговое выполнение скрипта</h2>
            <div class="section-content">
              <p>А теперь давайте пошагаем по нашему скрипту.</p>
              <p>Для этого есть кнопки в верхней части правой панели. Давайте рассмотрим их.</p>
              <dl>
                <dt>
                  <p><span class="devtools" style="background-position:-146px -168px"></span> <strong>– «Resume»:
                      продолжить выполнение, быстрая клавиша <kbd>F8</kbd>.</strong></p>
                </dt>
                <dd>
                  <p>Возобновляет выполнение кода. Если больше нет точек останова, то выполнение просто продолжается,
                    без контроля отладчиком.</p>
                  <p>Вот, что мы увидим, кликнув на неё:</p>
                  <img style="width:100%" src="../svg/chrome-sources-debugger-trace-1.svg">
                  <p>Выполнение кода возобновилось, дошло до другой точки останова внутри <code>say()</code>, и
                    отладчик
                    снова приостановил выполнение. Обратите внимание на пункт «Call stack» справа: в списке появился
                    ещё
                    один вызов. Сейчас мы внутри <code>say()</code>.</p>
                </dd>

                <dt><span class="devtools" style="background-position:-200px -190px"></span><strong>– «Step»:
                    выполнить
                    следующую команду, быстрая клавиша <kbd>F9</kbd>.</strong></dt>
                <dd>
                  <p>Выполняет следующую инструкцию. Если мы нажмём на неё сейчас, появится <code>alert</code>.</p>
                  <p>Нажатие на эту кнопку снова и снова приведёт к пошаговому выполнению всех инструкций скрипта
                    одного
                    за другим.</p>
                </dd>

                <dt><span class="devtools" style="background-position:-62px -192px"></span><strong>– «Step over»:
                    выполнить следующую команду, но не заходя внутрь функции, быстрая клавиша <kbd>F10</kbd>.</strong>
                </dt>
                <dd>
                  <p>Работает аналогично предыдущей команде «Step», но ведёт себя по-другому, если следующая
                    инструкция
                    является вызовом функции (имеется ввиду: не встроенная, как <code>alert</code>, а объявленная нами
                    функция).</p>
                  <p>Если сравнить, то команда «Step» переходит во вложенный вызов функцию и приостанавливает
                    выполнение
                    в первой строке, в то время как «Step over» выполняет вызов вложенной функции незаметно для нас,
                    пропуская её внутренний код.</p>
                  <p>Затем выполнение приостанавливается сразу после вызова функции.</p>
                  <p>Это хорошо, если нам не интересно видеть, что происходит внутри вызова функции.</p>
                </dd>

                <dt><span class="devtools" style="background-position:-4px -194px"></span><strong>– «Step into»,
                    быстрая
                    клавиша <kbd>F11</kbd>.</strong></dt>
                <dd>
                  <p>Это похоже на «Step», но ведёт себя по-другому в случае асинхронных вызовов функций. Если вы
                    только
                    начинаете изучать JavaScript, то можете не обращать внимания на разницу, так как у нас ещё нет
                    асинхронных вызовов.</p>
                  <p>На будущее просто помните, что команда «Step» игнорирует асинхронные действия, такие как
                    <code>setTimeout</code> (вызов функции по расписанию), которые выполняются позже. «Step into»
                    входит
                    в их код, ожидая их, если это необходимо. См. <a
                      href="https://developer.chrome.com/blog/new-in-devtools-65/#async">DevTools manual</a> для
                    получения более подробной информации.
                  </p>
                </dd>

                <dt><span class="devtools" style="background-position:-32px -194px"></span><strong>– «Step out»:
                    продолжить выполнение до завершения текущей функции, быстрая клавиша
                    <kbd>Shift+F11</kbd>.</strong>
                </dt>
                <dd>
                  <p>Продолжает выполнение и останавливает его в самой последней строке текущей функции. Это удобно,
                    когда мы случайно вошли во вложенный вызов, используя <span class="devtools"
                      style="background-position:-200px -190px"></span>, но это нас не интересует, и мы хотим
                    продолжить
                    его до конца как можно скорее.</p>
                </dd>

                <dt><span class="devtools" style="background-position:-61px -74px"></span><strong>–
                    активировать/деактивировать все точки останова(breakpoints).</strong></dt>
                <dd>
                  <p>Эта кнопка не влияет на выполнение кода, она лишь позволяет массово включить/отключить точки
                    останова.</p>
                </dd>

                <dt><span class="devtools" style="background-position:-90px -146px"></span><strong>–
                    включить/отключить
                    автоматическую паузу в случае ошибки.</strong></dt>
                <dd>
                  <p>При включении, если открыты инструменты разработчика, ошибка при выполнении скрипта автоматически
                    приостанавливает его. Затем мы можем проанализировать переменные в отладчике, чтобы понять, что
                    пошло не так. Поэтому, если наш скрипт умирает с ошибкой, мы можем открыть отладчик, включить эту
                    опцию и перезагрузить страницу, чтобы увидеть, где он умирает и каков контекст в этот момент.</p>
                </dd>
              </dl>
              <div class="note notecard" id="transparent-js">
                <div class="important_type">Continue to here</div>
                <p>Щелчок правой кнопкой мыши по строке кода открывает контекстное меню с отличной опцией под
                  названием
                  «Continue to here» («продолжить до этого места»).</p>
                <p>Это удобно, когда мы хотим перейти на несколько шагов вперёд к строке, но лень устанавливать точку
                  останова (breakpoint).</p>
              </div>
            </div>
          </section>

          <section aria-labelledby="Логирование">
            <h2 id="Логирование">Логирование</h2>
            <div class="section-content">
              <p>Чтобы вывести что-то на консоль из нашего кода, существует функция <code>console.log</code>.</p>
              <p>Например, это выводит в консоль значения от <code>0</code> до <code>4</code>:</p>
              <pre><code class="language-js">// чтобы увидеть результат, сначала откройте консоль
for (let i = 0; i &lt; 5; i++) {
console.log("value,", i);
}</code></pre>
              <p>Обычный пользователь сайта не увидит такой вывод, так как он в консоли. Чтобы увидеть его, либо
                откройте консольную панель инструментов разработчика, либо нажмите <kbd>Esc</kbd>, находясь в другой
                панели: это откроет консоль внизу.</p>
              <p>Если правильно выстроить логирование в приложении, то можно и без отладчика разобраться, что
                происходит
                в коде.</p>
            </div>
          </section>

          <section aria-labelledby="Итого14">
            <h2 id="Итого14">Итого</h2>
            <div class="section-content">
              <p>Приостановить выполнение скрипта можно тремя способами:</p>
              <ol>
                <li>Точками останова (breakpoints).</li>
                <li>Использованием в коде команд <code>debugger</code>.</li>
                <li>При ошибке (если инструменты разработчика открыты и кнопка <span class="devtools"
                    style="background-position:-90px -146px"></span> «включена»).</li>
              </ol>
              <p>При остановке мы можем отлаживать: анализировать переменные и пошагово пройти по процессу, чтобы
                отыскать проблему.</p>
              <p>В инструментах разработчика гораздо больше опций, чем описано здесь. С полным руководством можно
                ознакомиться на <a
                  href="https://developer.chrome.com/docs/devtools/">https://developers.google.com/web/tools/chrome-devtools</a>.
              </p>
              <p>Информации из этой главы достаточно, чтобы начать отладку, но позже, особенно если вы много работаете
                с
                браузером, пожалуйста, перейдите туда и ознакомьтесь с расширенными возможностями инструментов
                разработчика.</p>
              <p>И, конечно, вы можете просто кликать по различным местам инструментов разработки и смотреть, что при
                этом появляется. Пожалуй, это наискорейший способ ими овладеть. Не забывайте про правый клик мыши и
                контекстные меню!</p>
            </div>
          </section>
        
      </article>
    </main>
  </div>
</body>
