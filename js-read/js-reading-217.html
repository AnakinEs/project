<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Справочник</title>
  <link rel="stylesheet" href="../css/project-test.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200&display=swap" rel="stylesheet">
  <link href="../css/prism.css" rel="stylesheet">
  <script src="../js/prism.js"></script>
  <script src="../js/project.js"></script>
</head>

<body>
  <div class="main-wrapper">
    <main id="content" class="main_content" role="main">
      <article class="main-page-content" lang="ru"> <!-- lang="ru не совсем понял для чего-->
<section aria-labelledby="Клонирование и объединение объектов, Object.assign">
              <h2 id="Клонирование и объединение объектов, Object.assign">Клонирование и объединение объектов,
                Object.assign</h2>
              <div class="section-content">
                <p>Таким образом, при копировании переменной с объектом создаётся ещё одна ссылка на тот же самый
                  объект.
                </p>
                <p>Но что, если нам всё же нужно дублировать объект? Создать независимую копию, клон?</p>
                <p>Это выполнимо, но немного сложно, так как в JavaScript нет встроенного метода для этого. На самом
                  деле,
                  такая нужда возникает редко. В большинстве случаев нам достаточно копирования по ссылке.</p>
                <p>Но если мы действительно этого хотим, то нам нужно создавать новый объект и повторять структуру
                  дублируемого объекта, перебирая его свойства и копируя их.</p>
                <p>Например так:</p>
                <pre><code class="language-js">let user = {
  name: "Иван",
  age: 30
};

let clone = {}; // новый пустой объект

// скопируем все свойства user в него
for (let key in user) {
  clone[key] = user[key];
}

// теперь в переменной clone находится абсолютно независимый клон объекта
clone.name = "Пётр"; // изменим в нём данные

alert( user.name ); // в оригинальном объекте значение свойства `name` осталось прежним – Иван.</code></pre>
                <p>Кроме того, для этих целей мы можем использовать метод <a
                    href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"><code>Object.assign</code></a>.
                </p>
                <p>Синтаксис:</p>
                <pre><code class="language-js">Object.assign(dest, [src1, src2, src3...])</code></pre>
                <ul>
                  <li>Первый аргумент <code>dest</code> — целевой объект.</li>
                  <li>Остальные аргументы <code>src1, ..., srcN</code> (может быть столько, сколько нужно) являются
                    исходными объектами</li>
                  <li>Метод копирует свойства всех исходных объектов <code>src1, ..., srcN</code> в целевой объект
                    <code>dest</code>. То есть, свойства всех перечисленных объектов, начиная со второго, копируются в
                    первый объект.
                  </li>
                  <li>Возвращает объект <code>dest</code>.</li>
                </ul>
                <p>Например, объединим несколько объектов в один:</p>
                <pre><code class="language-js">let user = { name: "Иван" };

let permissions1 = { canView: true };
let permissions2 = { canEdit: true };

// копируем все свойства из permissions1 и permissions2 в user
Object.assign(user, permissions1, permissions2);

// теперь user = { name: "Иван", canView: true, canEdit: true }</code></pre>
                <p>Если принимающий объект (<code>user</code>) уже имеет свойство с таким именем, оно будет
                  перезаписано:
                </p>
                <pre><code class="language-js">let user = { name: "Иван" };

Object.assign(user, { name: "Пётр" });

alert(user.name); // теперь user = { name: "Пётр" }</code></pre>
                <p>Мы также можем использовать <code>Object.assign</code> для замены <code>for..in</code> на простое
                  клонирование:</p>
                <pre><code class="language-js">let user = {
  name: "Иван",
  age: 30
};

let clone = Object.assign({}, user);</code></pre>
                <p>Этот метод скопирует все свойства объекта <code>user</code> в пустой объект и возвратит его.</p>
              </div>
            </section>
      </article>
    </main>
  </div>
  <script>
    function show(param) {
      if ((event.target.parentElement.tagName == "PRE") && (event.target.parentElement.nextElementSibling.tagName == "IFRAME")) {
        event.target.parentElement.nextElementSibling.remove();
        event.target.parentElement.insertAdjacentHTML('afterend', param);
        event.target.blur();
      } else if ((event.target.parentElement.tagName == "PRE") && !(event.target.parentElement.nextElementSibling.tagName == "IFRAME")) {
        event.target.parentElement.insertAdjacentHTML('afterend', param);
        event.target.blur();
      }
    }
  </script>

  <script>
    content.onclick = function (event) {
      if (event.target.className != 'task__solution') return;
      let decisionDiv = event.target.closest('.decision_div');
      // let decisionDiv = document.querySelector('.decision_div');
      let decisionContent = decisionDiv.querySelector('.decision_content');
      decisionContent.classList.toggle('open');
    }
  </script>
</body>

